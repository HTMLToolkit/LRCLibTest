{"version":3,"file":"index-BvsfHFs6.js","sources":["../../src/main.js"],"sourcesContent":["(function () {\n  'use strict';\n\n  // Backend proxy URL - Cloudflare Worker\n  const API_BASE = 'https://lrcgetter-backend.neeljaiswal23.workers.dev/api';\n\n  // DOM helpers\n  const $ = (sel) => document.querySelector(sel);\n  const $$ = (sel) => document.querySelectorAll(sel);\n\n  // State\n  let currentChallenge = null;\n  let solverWorking = false;\n  let solverCancel = false;\n\n  // Navigation\n  $$('.nav-link[data-view]').forEach(link => {\n    link.addEventListener('click', (e) => {\n      e.preventDefault();\n      const view = link.dataset.view;\n\n      $$('.nav-link').forEach(l => l.classList.remove('active'));\n      link.classList.add('active');\n\n      $$('.view').forEach(v => v.classList.remove('active'));\n      $(`#view-${view}`).classList.add('active');\n    });\n  });\n\n  // Tabs in Get view\n  $$('.tab').forEach(tab => {\n    tab.addEventListener('click', () => {\n      const tabName = tab.dataset.tab;\n\n      $$('.tab').forEach(t => t.classList.remove('active'));\n      tab.classList.add('active');\n\n      $$('.tab-content').forEach(tc => tc.classList.remove('active'));\n      $(`#tab-${tabName}`).classList.add('active');\n    });\n  });\n\n  // API helpers\n  async function apiFetch(endpoint, options = {}) {\n    const url = API_BASE + endpoint;\n    const headers = {\n      'Accept': 'application/json',\n      ...options.headers\n    };\n\n    let res;\n    try {\n      res = await fetch(url, { ...options, headers });\n    } catch (networkError) {\n      console.error('Network error:', networkError);\n      throw { status: 0, data: { message: 'Network error - check your connection or the API may be down' } };\n    }\n\n    const text = await res.text();\n\n    let data;\n    try {\n      data = JSON.parse(text);\n    } catch {\n      data = { message: text || 'Unknown error' };\n    }\n\n    if (!res.ok) {\n      throw { status: res.status, data };\n    }\n\n    return data;\n  }\n\n  function buildQueryString(params) {\n    return Object.entries(params)\n      .filter(([_, v]) => v !== undefined && v !== null && v !== '')\n      .map(([k, v]) => `${encodeURIComponent(k)}=${encodeURIComponent(v)}`)\n      .join('&');\n  }\n\n  // UI helpers\n  function showLoading(container) {\n    container.innerHTML = `\n      <div class=\"loading\">\n        <div class=\"spinner\"></div>\n        <span>Loading...</span>\n      </div>\n    `;\n  }\n\n  function showError(container, message) {\n    container.innerHTML = `<div class=\"message error\">${escapeHtml(message)}</div>`;\n  }\n\n  function showSuccess(container, message) {\n    container.innerHTML = `<div class=\"message success\">${escapeHtml(message)}</div>`;\n  }\n\n  function escapeHtml(str) {\n    if (str === null || str === undefined) return '';\n    const div = document.createElement('div');\n    div.textContent = String(str);\n    return div.innerHTML;\n  }\n\n  function formatDuration(seconds) {\n    const m = Math.floor(seconds / 60);\n    const s = seconds % 60;\n    return `${m}:${s.toString().padStart(2, '0')}`;\n  }\n\n  function getErrorMessage(err) {\n    if (err.data?.message) return err.data.message;\n    if (err.data?.error) return err.data.error;\n    if (typeof err.data === 'string' && err.data) return err.data;\n    if (err.message) return err.message;\n    if (err.status) return `HTTP Error ${err.status}`;\n    return 'An unknown error occurred';\n  }\n\n  function renderLyrics(data, container) {\n    if (!data) {\n      showError(container, 'No lyrics found');\n      return;\n    }\n\n    const hasSynced = data.syncedLyrics && data.syncedLyrics.trim();\n    const hasPlain = data.plainLyrics && data.plainLyrics.trim();\n\n    let syncedHtml = '';\n    if (hasSynced) {\n      const lines = data.syncedLyrics.split('\\n').filter(l => l.trim());\n      syncedHtml = lines.map(line => {\n        const match = line.match(/^\\[(\\d{2}:\\d{2}\\.\\d{2})\\]\\s*(.*)$/);\n        if (match) {\n          return `<div class=\"synced-line\"><span class=\"timestamp\">[${match[1]}]</span><span>${escapeHtml(match[2])}</span></div>`;\n        }\n        return `<div>${escapeHtml(line)}</div>`;\n      }).join('');\n    }\n\n    const plainHtml = hasPlain ? `<pre>${escapeHtml(data.plainLyrics)}</pre>` : '<p class=\"muted\">No plain lyrics available</p>';\n\n    container.innerHTML = `\n      <div class=\"lyrics-display\">\n        <div class=\"lyrics-header\">\n          <h2>${escapeHtml(data.trackName)}</h2>\n          <p>${escapeHtml(data.artistName)} — ${escapeHtml(data.albumName)}</p>\n          <div class=\"result-meta\" style=\"margin-top: 12px;\">\n            <span class=\"result-badge\">${formatDuration(data.duration)}</span>\n            ${hasSynced ? '<span class=\"result-badge synced\">Synced</span>' : ''}\n            ${data.instrumental ? '<span class=\"result-badge instrumental\">Instrumental</span>' : ''}\n            <span class=\"result-badge\">ID: ${data.id}</span>\n          </div>\n        </div>\n        <div class=\"lyrics-tabs\">\n          <button class=\"lyrics-tab ${hasSynced ? 'active' : ''}\" data-lyrics=\"synced\" ${!hasSynced ? 'disabled' : ''}>Synchronized</button>\n          <button class=\"lyrics-tab ${!hasSynced ? 'active' : ''}\" data-lyrics=\"plain\">Plain</button>\n        </div>\n        <div class=\"lyrics-content\">\n          <div id=\"lyrics-synced\" ${!hasSynced ? 'style=\"display: none\"' : ''}>${syncedHtml || '<p class=\"muted\">No synchronized lyrics available</p>'}</div>\n          <div id=\"lyrics-plain\" ${hasSynced ? 'style=\"display: none\"' : ''}>${plainHtml}</div>\n        </div>\n      </div>\n    `;\n\n    container.querySelectorAll('.lyrics-tab').forEach(tab => {\n      tab.addEventListener('click', () => {\n        if (tab.disabled) return;\n        container.querySelectorAll('.lyrics-tab').forEach(t => t.classList.remove('active'));\n        tab.classList.add('active');\n\n        const type = tab.dataset.lyrics;\n        container.querySelector('#lyrics-synced').style.display = type === 'synced' ? 'block' : 'none';\n        container.querySelector('#lyrics-plain').style.display = type === 'plain' ? 'block' : 'none';\n      });\n    });\n  }\n\n  function renderSearchResults(results, container) {\n    if (!results || results.length === 0) {\n      container.innerHTML = '<div class=\"message info\">No results found. Try different search terms.</div>';\n      return;\n    }\n\n    container.innerHTML = results.map(item => {\n      const hasSynced = item.syncedLyrics && item.syncedLyrics.trim();\n      return `\n        <div class=\"result-card\" data-id=\"${item.id}\">\n          <div class=\"result-header\">\n            <div>\n              <div class=\"result-title\">${escapeHtml(item.trackName)}</div>\n              <div class=\"result-artist\">${escapeHtml(item.artistName)}</div>\n            </div>\n            <div class=\"result-meta\">\n              <span class=\"result-badge\">${formatDuration(item.duration)}</span>\n              ${hasSynced ? '<span class=\"result-badge synced\">Synced</span>' : ''}\n              ${item.instrumental ? '<span class=\"result-badge instrumental\">Instrumental</span>' : ''}\n            </div>\n          </div>\n          <div class=\"result-album\">${escapeHtml(item.albumName)}</div>\n        </div>\n      `;\n    }).join('');\n\n    container.querySelectorAll('.result-card').forEach(card => {\n      card.addEventListener('click', async () => {\n        const id = card.dataset.id;\n        showLoading(container);\n        try {\n          const data = await apiFetch(`/get/${id}`);\n          renderLyrics(data, container);\n        } catch (err) {\n          showError(container, getErrorMessage(err));\n        }\n      });\n    });\n  }\n\n  // Search form\n  $('#form-search').addEventListener('submit', async (e) => {\n    e.preventDefault();\n    const form = e.target;\n    const formData = new FormData(form);\n    const params = Object.fromEntries(formData.entries());\n\n    if (!params.q && !params.track_name) {\n      showError($('#search-results'), 'Please provide at least a search query or track name');\n      return;\n    }\n\n    const container = $('#search-results');\n    showLoading(container);\n\n    try {\n      const qs = buildQueryString(params);\n      const data = await apiFetch(`/search?${qs}`);\n      renderSearchResults(data, container);\n    } catch (err) {\n      console.error('Search error:', err);\n      showError(container, getErrorMessage(err));\n    }\n  });\n\n  // Get by signature form\n  $('#form-get-signature').addEventListener('submit', async (e) => {\n    e.preventDefault();\n    const form = e.target;\n    const formData = new FormData(form);\n    const params = Object.fromEntries(formData.entries());\n    const cached = params.cached;\n    delete params.cached;\n\n    const container = $('#get-results');\n    showLoading(container);\n\n    try {\n      const endpoint = cached ? '/get-cached' : '/get';\n      const qs = buildQueryString(params);\n      const data = await apiFetch(`${endpoint}?${qs}`);\n      renderLyrics(data, container);\n    } catch (err) {\n      if (err.status === 404) {\n        showError(container, 'Track not found. Make sure all fields match exactly, including duration (±2 seconds).');\n      } else {\n        showError(container, getErrorMessage(err));\n      }\n    }\n  });\n\n  // Get by ID form\n  $('#form-get-id').addEventListener('submit', async (e) => {\n    e.preventDefault();\n    const id = new FormData(e.target).get('id').trim();\n\n    const container = $('#get-results');\n    showLoading(container);\n\n    try {\n      const data = await apiFetch(`/get/${encodeURIComponent(id)}`);\n      renderLyrics(data, container);\n    } catch (err) {\n      if (err.status === 404) {\n        showError(container, 'Lyrics not found with this ID.');\n      } else {\n        showError(container, getErrorMessage(err));\n      }\n    }\n  });\n\n  // Publish - Challenge\n  $('#btn-challenge').addEventListener('click', async () => {\n    const status = $('#challenge-status');\n    status.className = 'challenge-status working';\n    status.textContent = 'Requesting challenge...';\n\n    try {\n      const data = await apiFetch('/request-challenge', { method: 'POST' });\n      currentChallenge = data;\n      $('#pub-prefix').value = data.prefix;\n      $('#pub-nonce').value = '';\n      $('#btn-solve').disabled = false;\n      status.className = 'challenge-status success';\n      status.textContent = `Challenge received! Prefix: ${data.prefix.substring(0, 16)}...Target: ${data.target.substring(0, 16)}...`;\n    } catch (err) {\n      status.className = 'challenge-status error';\n      status.textContent = 'Failed to get challenge:  ' + getErrorMessage(err);\n    }\n  });\n\n  // SHA-256 helper\n  async function sha256Hex(str) {\n    const data = new TextEncoder().encode(str);\n    const hash = await crypto.subtle.digest('SHA-256', data);\n    return Array.from(new Uint8Array(hash)).map(b => b.toString(16).padStart(2, '0')).join('');\n  }\n\n  // Proof of work solver\n  async function solvePow(prefix, target, onProgress) {\n    let nonce = 0;\n    const batchSize = 2048;\n    const startTime = Date.now();\n\n    while (!solverCancel) {\n      for (let i = 0; i < batchSize && !solverCancel; i++) {\n        const input = `${prefix}: ${nonce}`;\n        const hash = await sha256Hex(input);\n\n        if (hash < target.toLowerCase()) {\n          return { nonce: String(nonce), hash, attempts: nonce + 1, time: Date.now() - startTime };\n        }\n        nonce++;\n      }\n\n      if (onProgress) {\n        onProgress(nonce, Date.now() - startTime);\n      }\n\n      // Yield to UI\n      await new Promise(r => setTimeout(r, 0));\n    }\n\n    throw new Error('Cancelled');\n  }\n\n  // Solve button\n  $('#btn-solve').addEventListener('click', async () => {\n    if (!currentChallenge) {\n      $('#challenge-status').textContent = 'Please request a challenge first';\n      return;\n    }\n\n    solverCancel = false;\n    solverWorking = true;\n    $('#btn-solve').disabled = true;\n    $('#btn-cancel').disabled = false;\n\n    const status = $('#challenge-status');\n    status.className = 'challenge-status working';\n\n    try {\n      const result = await solvePow(\n        currentChallenge.prefix,\n        currentChallenge.target,\n        (attempts, time) => {\n          const rate = Math.round(attempts / (time / 1000));\n          status.textContent = `Solving...${attempts.toLocaleString()} attempts (${rate.toLocaleString()} H/s)`;\n        }\n      );\n\n      $('#pub-nonce').value = result.nonce;\n      status.className = 'challenge-status success';\n      status.textContent = `Solved! Nonce: ${result.nonce} (${result.attempts.toLocaleString()} attempts in ${(result.time / 1000).toFixed(1)}s)`;\n    } catch (err) {\n      status.className = 'challenge-status error';\n      status.textContent = err.message === 'Cancelled' ? 'Solver cancelled' : `Solver error: ${err.message}`;\n    } finally {\n      solverWorking = false;\n      $('#btn-solve').disabled = false;\n      $('#btn-cancel').disabled = true;\n    }\n  });\n\n  // Cancel button\n  $('#btn-cancel').addEventListener('click', () => {\n    solverCancel = true;\n  });\n\n  // Publish form\n  $('#form-publish').addEventListener('submit', async (e) => {\n    e.preventDefault();\n\n    const formData = new FormData(e.target);\n    const data = Object.fromEntries(formData.entries());\n\n    const prefix = data.prefix;\n    const nonce = data.nonce;\n\n    if (!prefix || !nonce) {\n      showError($('#publish-results'), 'Please request and solve a challenge first');\n      return;\n    }\n\n    const token = `${prefix}:${nonce}`;\n    const body = {\n      trackName: data.trackName,\n      artistName: data.artistName,\n      albumName: data.albumName,\n      duration: parseInt(data.duration, 10),\n      plainLyrics: data.plainLyrics || '',\n      syncedLyrics: data.syncedLyrics || ''\n    };\n\n    const container = $('#publish-results');\n    showLoading(container);\n\n    try {\n      await apiFetch('/publish', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'X-Publish-Token': token\n        },\n        body: JSON.stringify(body)\n      });\n\n      showSuccess(container, 'Lyrics published successfully!');\n\n      // Reset challenge\n      currentChallenge = null;\n      $('#pub-prefix').value = '';\n      $('#pub-nonce').value = '';\n      $('#btn-solve').disabled = true;\n      $('#challenge-status').textContent = '';\n    } catch (err) {\n      showError(container, getErrorMessage(err));\n    }\n  });\n\n  // Init\n  console.log('LRCGetter Frontend loaded');\n})();"],"names":["API_BASE","$","sel","$$","currentChallenge","solverCancel","link","e","view","l","v","tab","tabName","tc","apiFetch","endpoint","options","url","headers","res","networkError","text","data","buildQueryString","params","_","k","showLoading","container","showError","message","escapeHtml","showSuccess","str","div","formatDuration","seconds","m","s","getErrorMessage","err","renderLyrics","hasSynced","hasPlain","syncedHtml","line","match","plainHtml","t","type","renderSearchResults","results","item","card","id","form","formData","qs","cached","status","sha256Hex","hash","b","solvePow","prefix","target","onProgress","nonce","batchSize","startTime","i","input","r","result","attempts","time","rate","token","body"],"mappings":"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"}